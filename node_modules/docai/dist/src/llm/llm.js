import { getModel } from '../llm/model.js';
import { ChatPromptTemplate } from '@langchain/core/prompts';
export async function generateMarkdown(code, title) {
    const prompt = ChatPromptTemplate.fromTemplate(`You have to write a markdown documentation page for this file: {code}
    It should contain only these parts:
    # {title}
    ## Description <!-- Explain what the code does, using the comments you'll find in the code. -->
    ## Code <!-- This section should contains raw code, formatted in Javascript. -->
    ## Use Cases <!-- If you can, give examples to explain what this file does. You can do it by writing a code block which executes functions from the file and display results from their execution in comments. -->`);
    const chain = prompt.pipe(getModel());
    const res = await chain.invoke({ code, title });
    return res.lc_kwargs.content;
}
export async function generateCommentFromCode(text) {
    const prompt = ChatPromptTemplate.fromTemplate('Explain what this code does as fully as possible: {text}');
    const chain = prompt.pipe(getModel());
    const res = await chain.invoke({ text });
    return res.lc_kwargs.content;
}
export default {
    generateCommentFromCode,
    generateMarkdown
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGxtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xsbS9sbG0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFBO0FBQzFDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFBO0FBRTVELE1BQU0sQ0FBQyxLQUFLLFVBQVUsZ0JBQWdCLENBQ3BDLElBQVksRUFDWixLQUFhO0lBRWIsTUFBTSxNQUFNLEdBQUcsa0JBQWtCLENBQUMsWUFBWSxDQUM1Qzs7Ozs7dU5BS21OLENBQ3BOLENBQUE7SUFDRCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUE7SUFFckMsTUFBTSxHQUFHLEdBQUcsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUE7SUFFL0MsT0FBTyxHQUFHLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQTtBQUM5QixDQUFDO0FBRUQsTUFBTSxDQUFDLEtBQUssVUFBVSx1QkFBdUIsQ0FBQyxJQUFZO0lBQ3hELE1BQU0sTUFBTSxHQUFHLGtCQUFrQixDQUFDLFlBQVksQ0FDNUMsMERBQTBELENBQzNELENBQUE7SUFDRCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUE7SUFFckMsTUFBTSxHQUFHLEdBQUcsTUFBTSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtJQUV4QyxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFBO0FBQzlCLENBQUM7QUFFRCxlQUFlO0lBQ2IsdUJBQXVCO0lBQ3ZCLGdCQUFnQjtDQUNqQixDQUFBIn0=