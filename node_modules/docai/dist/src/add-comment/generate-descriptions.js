import fs from 'fs';
import llm from '../llm/llm.js';
export function generateDescriptionByFile(filePath, descriptions) {
    return async () => {
        if (filePath === '') {
            throw new Error('No file path is provided');
        }
        const fileContent = fs.readFileSync(filePath, 'utf8');
        // Si on n'a pas encore sa description, on la génère
        if (descriptions[filePath] === undefined) {
            descriptions[filePath] = await llm.generateCommentFromCode(fileContent);
        }
        return { fileContent, filePath, descriptions };
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGUtZGVzY3JpcHRpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FkZC1jb21tZW50L2dlbmVyYXRlLWRlc2NyaXB0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxJQUFJLENBQUE7QUFFbkIsT0FBTyxHQUFHLE1BQU0sZUFBZSxDQUFBO0FBRS9CLE1BQU0sVUFBVSx5QkFBeUIsQ0FDdkMsUUFBZ0IsRUFDaEIsWUFBb0M7SUFFcEMsT0FBTyxLQUFLLElBSVQsRUFBRTtRQUNILElBQUksUUFBUSxLQUFLLEVBQUUsRUFBRTtZQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUE7U0FDNUM7UUFFRCxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUNyRCxvREFBb0Q7UUFDcEQsSUFBSSxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBQ3hDLFlBQVksQ0FBQyxRQUFRLENBQUMsR0FBRyxNQUFNLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtTQUN4RTtRQUVELE9BQU8sRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRSxDQUFBO0lBQ2hELENBQUMsQ0FBQTtBQUNILENBQUMifQ==